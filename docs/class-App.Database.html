<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">

        <link rel="stylesheet" href="resources/bootstrap.min.css">
        <link rel="stylesheet" href="resources/style.css">

        <title>
            Class App\Database
        </title>
    </head>

    <body>
<div id="navigation">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar">
                    <ul class="nav navbar-nav">
                        <li>
                            <a href="index.html">
                                Overview
                            </a>
                        </li>

                            <li>
                                <a href="classes.html">Classes</a>
                            </li>





                    </ul>

                    <form id="search" class="pull-right">
                        <input type="text" name="q" class="form-control text" placeholder="Search class, function or namespace" autofocus>
                    </form>
                </nav>
            </div>
        </div>
    </div>
</div>
            <div id="breadcrumbs">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">


<div class="pull-left type">
    <span class="label label-success">Class</span>
</div>

<ol class="breadcrumb pull-left">
        <li>
            <a href="namespace-App.html">App</a>
        </li>

        <li class="backslash">\</li>
        <li class="active">Database</li>
</ol>
                        </div>
                    </div>
                </div>
            </div>

        <div class="container">
            <div class="row">
                <div class="col-md-12">
    <h1>Database</h1>

        <div class="panel panel-default">
            <div class="panel-body">
                Classe d'accès aux données
            </div>
        </div>




    <div class="info">
        

            <a href="source-class-App.Database.html" class="open-source-code">Open source code</a>
        <br>
    </div>

        <table class="summary table table-bordered table-responsive table-striped" id="methods">
            <tr><th colspan="3">Methods Summary</th></tr>



<tr id="_getInstance">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public static
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getInstance">#</a>
            <code><a href="source-class-App.Database.html#48-54">getInstance</a>( )</code>

            <div class="description">
                Méthode statique de récupération de l'instance








            </div>
        </div>
    </td>
</tr>



<tr id="_getInfosVisiteur">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getInfosVisiteur">#</a>
            <code><a href="source-class-App.Database.html#64-75">getInfosVisiteur</a>( <span> string <span class="property-name">$login</span> </span>, <span> string <span class="property-name">$mdp</span> </span> )</code>

            <div class="description">
                Retourne les informations d'un visiteur








            </div>
        </div>
    </td>
</tr>



<tr id="_getInfosVisiteurFromId">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getInfosVisiteurFromId">#</a>
            <code><a href="source-class-App.Database.html#84-95">getInfosVisiteurFromId</a>( <span> string <span class="property-name">$id</span> </span> )</code>

            <div class="description">
                Retourne les informations d'un visiteur à partir de son identifiant








            </div>
        </div>
    </td>
</tr>



<tr id="_getLesFraisHorsForfait">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getLesFraisHorsForfait">#</a>
            <code><a href="source-class-App.Database.html#109-124">getLesFraisHorsForfait</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Retourne sous forme d'un tableau associatif toutes les lignes de frais
hors forfait concernées par les deux arguments.

La boucle foreach ne peut être utilisée ici car on procède
à une modification de la structure itérée - transformation du champ date-








            </div>
        </div>
    </td>
</tr>



<tr id="_getNbjustificatifs">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getNbjustificatifs">#</a>
            <code><a href="source-class-App.Database.html#134-145">getNbjustificatifs</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Retourne le nombre de justificatif d'un visiteur pour un mois donné








            </div>
        </div>
    </td>
</tr>



<tr id="_getLesFraisForfait">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getLesFraisForfait">#</a>
            <code><a href="source-class-App.Database.html#157-174">getLesFraisForfait</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Retourne sous forme d'un tableau associatif toutes les lignes de frais
au forfait concernées par les deux arguments








            </div>
        </div>
    </td>
</tr>



<tr id="_getLesIdFrais">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getLesIdFrais">#</a>
            <code><a href="source-class-App.Database.html#181-188">getLesIdFrais</a>( )</code>

            <div class="description">
                Retourne tous les id de la table FraisForfait








            </div>
        </div>
    </td>
</tr>



<tr id="_majFraisForfait">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_majFraisForfait">#</a>
            <code><a href="source-class-App.Database.html#202-219">majFraisForfait</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span>, <span> array <span class="property-name">$lesFrais</span> </span> )</code>

            <div class="description">
                Met à jour la table ligneFraisForfait
Met à jour la table ligneFraisForfait pour un visiteur et
un mois donné en enregistrant les nouveaux montants








            </div>
        </div>
    </td>
</tr>



<tr id="_majFraisHorsForfait">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_majFraisHorsForfait">#</a>
            <code><a href="source-class-App.Database.html#233-250">majFraisHorsForfait</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span>, <span> array <span class="property-name">$idFrais</span> </span>, <span> <span class="property-name">$date</span> </span>, <span> <span class="property-name">$libelle</span> </span>, <span> <span class="property-name">$montant</span> </span> )</code>

            <div class="description">
                Met à jour la table ligneFraisHorsForfait
Met à jour la table ligneFraisHorsForfait pour un visiteur et
un mois donné en enregistrant les nouveaux montants








            </div>
        </div>
    </td>
</tr>



<tr id="_majNbJustificatifs">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_majNbJustificatifs">#</a>
            <code><a href="source-class-App.Database.html#262-275">majNbJustificatifs</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span>, <span> int <span class="property-name">$nbJustificatifs</span> </span> )</code>

            <div class="description">
                Met à jour le nombre de justificatifs de la table ficheFrais
pour le mois et le visiteur concerné








            </div>
        </div>
    </td>
</tr>



<tr id="_estPremierFraisMois">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_estPremierFraisMois">#</a>
            <code><a href="source-class-App.Database.html#285-299">estPremierFraisMois</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Teste si un visiteur possède une fiche de frais pour le mois passé en argument








            </div>
        </div>
    </td>
</tr>



<tr id="_dernierMoisSaisi">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_dernierMoisSaisi">#</a>
            <code><a href="source-class-App.Database.html#308-319">dernierMoisSaisi</a>( <span> string <span class="property-name">$idVisiteur</span> </span> )</code>

            <div class="description">
                Retourne le dernier mois en cours d'un visiteur








            </div>
        </div>
    </td>
</tr>



<tr id="_creeNouvellesLignesFrais">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_creeNouvellesLignesFrais">#</a>
            <code><a href="source-class-App.Database.html#334-362">creeNouvellesLignesFrais</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Crée une nouvelle fiche de frais et les lignes de frais au forfait
pour un visiteur et un mois donnés

Récupère le dernier mois en cours de traitement, met à 'CL' son champs
idEtat, crée une nouvelle fiche de frais avec un idEtat à 'CR' et crée
les lignes de frais forfait de quantités nulles








            </div>
        </div>
    </td>
</tr>



<tr id="_creeNouveauFraisHorsForfait">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_creeNouveauFraisHorsForfait">#</a>
            <code><a href="source-class-App.Database.html#376-391">creeNouveauFraisHorsForfait</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span>, <span> string <span class="property-name">$libelle</span> </span>, <span> string <span class="property-name">$date</span> </span>, <span> float <span class="property-name">$montant</span> </span> )</code>

            <div class="description">
                Crée un nouveau frais hors forfait pour un visiteur un mois donné
à partir des informations fournies en paramètre








            </div>
        </div>
    </td>
</tr>



<tr id="_supprimerFraisHorsForfait">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_supprimerFraisHorsForfait">#</a>
            <code><a href="source-class-App.Database.html#400-407">supprimerFraisHorsForfait</a>( <span> string <span class="property-name">$idFrais</span> </span> )</code>

            <div class="description">
                Supprime le frais hors forfait dont l'id est passé en argument








            </div>
        </div>
    </td>
</tr>



<tr id="_getLesMoisDisponibles">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getLesMoisDisponibles">#</a>
            <code><a href="source-class-App.Database.html#417-444">getLesMoisDisponibles</a>( <span> string <span class="property-name">$idVisiteur</span> </span> )</code>

            <div class="description">
                Retourne les mois pour lesquel un visiteur a une fiche de frais








            </div>
        </div>
    </td>
</tr>



<tr id="_getLesInfosFicheFrais">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getLesInfosFicheFrais">#</a>
            <code><a href="source-class-App.Database.html#455-529">getLesInfosFicheFrais</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Retourne les informations d'une fiche de frais d'un visiteur ou alors les informations de toutes les fiches de frais des utilisateur pour un mois donné








            </div>
        </div>
    </td>
</tr>



<tr id="_getInfosUneFicheFrais">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getInfosUneFicheFrais">#</a>
            <code><a href="source-class-App.Database.html#539-556">getInfosUneFicheFrais</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span> )</code>

            <div class="description">
                Retourne les informations d'une fiche de frais d'un visiteur pour un mois donné








            </div>
        </div>
    </td>
</tr>



<tr id="_majEtatFicheFrais">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_majEtatFicheFrais">#</a>
            <code><a href="source-class-App.Database.html#568-579">majEtatFicheFrais</a>( <span> string <span class="property-name">$idVisiteur</span> </span>, <span> string <span class="property-name">$mois</span> </span>, <span> string <span class="property-name">$etat</span> </span> )</code>

            <div class="description">
                Modifie l'état et la date de modification d'une fiche de frais.

Modifie le champ idEtat et met la date de modif à aujourd'hui.








            </div>
        </div>
    </td>
</tr>



<tr id="_getLesVisiteursAyantFichesFrais">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getLesVisiteursAyantFichesFrais">#</a>
            <code><a href="source-class-App.Database.html#588-604">getLesVisiteursAyantFichesFrais</a>( )</code>

            <div class="description">
                Supprime le frais hors forfait dont l'id est passé en argument








            </div>
        </div>
    </td>
</tr>



<tr id="_getVisiteursList">

    <td class="attributes col-md-1">
        <code class="keyword">
                 public 
                
                
        </code>
    </td>

    <td class="name">
        <div>
            <a class="anchor pull-right" href="#_getVisiteursList">#</a>
            <code><a href="source-class-App.Database.html#611-628">getVisiteursList</a>( )</code>

            <div class="description">
                Récupère la liste des visiteurs








            </div>
        </div>
    </td>
</tr>
        </table>







    <div id="footer">
        Generated by <a href="https://github.com/apigen/apigen">ApiGen</a>
    </div>
                </div>
            </div>
        </div>

        <script src="resources/jquery-3.2.1.min.js"></script>
        <script src="resources/jquery-ui-1.12.1.min.js"></script>

        <script src="elementlist.js"></script>
        <script src="resources/main.js"></script>
    </body>
</html>


